@model MyEcommerce.Models.RegisterViewModel
@{
    ViewBag.Title = "Register";
}

<style>
    /* Local styles for a clean, modern auth card */
    .auth-card { max-width: 540px; margin: 2.5rem auto; }
    .auth-card .card { border-radius: .75rem; overflow: hidden; }
    .auth-card .card-body { padding: 2rem; }
    .auth-card .form-control {
        min-height: 48px;
        padding: .625rem .75rem;
        font-size: .95rem;
        border-radius: .5rem;
        box-sizing: border-box;
    }
    .auth-card .form-floating > .form-control { height: auto; padding-top: 1.25rem; padding-bottom: .5rem; }
    .auth-card .btn-primary { border-radius: .5rem; padding: .75rem; font-size: 1rem; }
    .auth-small { font-size: .9rem; color: #6c757d; }
</style>

<main aria-labelledby="title" class="auth-card">
    <div class="card shadow-sm">
        <div class="card-body">
            <h2 id="title" class="h4 text-center mb-3">@ViewBag.Title</h2>
            <p class="text-center auth-small mb-4">Tạo tài khoản để mua sắm nhanh chóng và an toàn.</p>

            @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { role = "form", @class = "needs-validation", novalidate = "novalidate" }))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary("", new { @class = "text-danger mb-3" })

                <div class="form-floating mb-3">
                    @Html.TextBoxFor(m => m.Email, new {
                        @class = "form-control",
                        placeholder = "Email",
                        type = "email",
                        autocomplete = "email",
                        required = "required",
                        autofocus = "autofocus"
                    })
                    @Html.LabelFor(m => m.Email, "Email")
                    @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger small mt-1" })
                </div>

                <div class="form-floating mb-3">
                    @Html.PasswordFor(m => m.Password, new {
                        @class = "form-control",
                        placeholder = "Mật khẩu",
                        autocomplete = "new-password",
                        required = "required"
                    })
                    @Html.LabelFor(m => m.Password, "Mật khẩu")
                    @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger small mt-1" })
                </div>

                <div class="form-floating mb-3">
                    @Html.PasswordFor(m => m.ConfirmPassword, new {
                        @class = "form-control",
                        placeholder = "Xác nhận mật khẩu",
                        autocomplete = "new-password",
                        required = "required"
                    })
                    @Html.LabelFor(m => m.ConfirmPassword, "Xác nhận mật khẩu")
                    @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-danger small mt-1" })
                </div>

                <div class="d-grid mb-3">
                    <button type="submit" class="btn btn-primary">Đăng ký</button>
                </div>

                <div class="text-center small">
                    Đã có tài khoản?
                    @Html.ActionLink("Đăng nhập", "Login", "Account", routeValues: null, htmlAttributes: new { @class = "fw-semibold ms-1" })
                </div>
            }
        </div>
    </div>
</main>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        // simple bootstrap-style validation
        (function () {
            'use strict';
            var forms = document.querySelectorAll('.needs-validation');
            Array.prototype.slice.call(forms).forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault(); event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>
}
